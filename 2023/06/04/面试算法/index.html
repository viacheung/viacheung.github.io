<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.1.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"viacheung.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="åä¸‰ã€ç®—æ³•ï¼š13.1 å †æ’åº">
<meta property="og:type" content="article">
<meta property="og:title" content="é¢è¯•ç®—æ³•">
<meta property="og:url" content="http://viacheung.github.io/2023/06/04/%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95/index.html">
<meta property="og:site_name" content="å‘½è¿çŸ³ä¹‹é—¨">
<meta property="og:description" content="åä¸‰ã€ç®—æ³•ï¼š13.1 å †æ’åº">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/viacheung/img/main/image/202306041747125.png">
<meta property="og:image" content="http://viacheung.github.io/.io//Users/50537/OneDrive/blog/source_posts/é¢è¯•ç®—æ³•.assets/image-20230413010108052.png">
<meta property="og:image" content="http://viacheung.github.io/.io//Users/50537/OneDrive/blog/source_posts/é¢è¯•ç®—æ³•.assets/image-20230413010655673.png">
<meta property="og:image" content="http://viacheung.github.io/.io//Users/50537/OneDrive/blog/source_posts/é¢è¯•ç®—æ³•.assets/image-20230413010725385.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/a22a2fd0a078461f9d3a03ae06adc9ba.png">
<meta property="og:image" content="https://raw.githubusercontent.com/viacheung/img/main/image/202306041747055.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/e8fc01ed77b1487c80522e394a510807.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/5d95acc392874064825ef3398f5429ba.png">
<meta property="og:image" content="https://raw.githubusercontent.com/viacheung/img/main/image/202306041747083.png">
<meta property="og:image" content="https://raw.githubusercontent.com/viacheung/img/main/image/202306041747284.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/70aa9a0566e744908a4662746efdc258.png">
<meta property="article:published_time" content="2023-06-04T09:42:58.000Z">
<meta property="article:modified_time" content="2023-06-04T09:47:56.914Z">
<meta property="article:author" content="ViaCheung">
<meta property="article:tag" content="Java,python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/viacheung/img/main/image/202306041747125.png">

<link rel="canonical" href="http://viacheung.github.io/2023/06/04/%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>é¢è¯•ç®—æ³• | å‘½è¿çŸ³ä¹‹é—¨</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">å‘½è¿çŸ³ä¹‹é—¨</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ç©ºé—´ğŸ™‡</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://viacheung.github.io/2023/06/04/%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="ViaCheung">
      <meta itemprop="description" content="el psy congroo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å‘½è¿çŸ³ä¹‹é—¨">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          é¢è¯•ç®—æ³•
        </h1>

        <div class="post-meta">
	  <span class="post-time">

	  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-06-04 17:42:58 / ä¿®æ”¹æ—¶é—´ï¼š17:47:56" itemprop="dateCreated datePublished" datetime="2023-06-04T17:42:58+08:00">2023-06-04</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">ç®—æ³•</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="åä¸‰ã€ç®—æ³•ï¼š"><a href="#åä¸‰ã€ç®—æ³•ï¼š" class="headerlink" title="åä¸‰ã€ç®—æ³•ï¼š"></a>åä¸‰ã€ç®—æ³•ï¼š</h1><h2 id="13-1-å †æ’åº"><a href="#13-1-å †æ’åº" class="headerlink" title="13.1 å †æ’åº"></a>13.1 å †æ’åº<span id="more"></span></h2><pre><code class="java">public class heapSort &#123;
    public static void main(String[] args) &#123;
        Scanner sc=new Scanner(System.in);
        int n=sc.nextInt();
        int[] nums=new int[n];
        for(int i=0;i&lt;n;i++)&#123;
            nums[i]= sc.nextInt();
        &#125;
        //ç¬¬ä¸€æ­¥æ˜¯å°†å¾—åˆ°çš„æ•°ç»„æ„å»ºæˆå¤§é¡¶å †
        bulidHeap(nums);
        for(int i=n-1;i&gt;0;i--)&#123;
            swap(nums,0,i);
            // bulidHeapåï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹æ­¤æ—¶å·²ç»åˆ°å¤§é¡¶å †äº†ï¼Œæ‰€ä»¥iä»n-1å¼€å§‹
            adjustHeap(nums,0,i);
        &#125;
        System.out.println(Arrays.toString(nums));
    &#125;
//heapsize ï¼šæ’åºåŒºé—´   i:éœ€è¦è°ƒæ•´çš„èŠ‚ç‚¹
    private static void adjustHeap(int[] nums, int i, int heapSize) &#123;
        int l=2*i+1;
        int r=l+1;
        int largest_i=i;
        if(l&lt;heapSize&amp;&amp;nums[l]&gt;nums[largest_i])&#123;
            largest_i=l;
        &#125;
        if(r&lt;heapSize&amp;&amp;nums[r]&gt;nums[largest_i])&#123;
            largest_i=l;
        &#125;
        if(largest_i!=i)&#123;
            swap(nums,largest_i,i);
            //äº¤æ¢ä¹‹åï¼Œå°†çˆ¶èŠ‚ç‚¹ä¸‹æ”¾ä¸€çº§ï¼Œå°±æœ‰å¯èƒ½ä¼šç ´åä¸‹ä¸€å±‚ç»“æ„ï¼Œæ‰€ä»¥ï¼Œé€’å½’è°ƒç”¨adjustHeap.
            adjustHeap(nums,largest_i,heapSize);
        &#125;
    &#125;

    private static void swap(int[] nums, int i, int j) &#123;
        int temp=nums[i];
        nums[i]=nums[j];
        nums[j]=temp;
    &#125;

    private static void bulidHeap(int[] nums) &#123;
//        n-1=2x+1æˆ–è€…n-1=2x+2ç®—å‡ºæ¥  x=n/2-1
        for(int i=nums.length/2-1;i&gt;=0;i--)&#123;
            adjustHeap(nums,i, nums.length);
        &#125;
    &#125;
&#125;
</code></pre>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1fp4y1D7cj/?spm_id_from=333.337.search-card.all.click&vd_source=a94c87b379edd5a7d7d8b35d15935c0f">è¿™ä¸ªè§†é¢‘ä¸é”™</a><br><img src="https://raw.githubusercontent.com/viacheung/img/main/image/202306041747125.png" alt="img"></p>
<h2 id="13-2-å¿«æ’"><a href="#13-2-å¿«æ’" class="headerlink" title="13.2 å¿«æ’"></a>13.2 å¿«æ’</h2><pre><code class="java">package face.sort;

import java.util.Arrays;

public class quickSort &#123;
    public static void main(String[] args) &#123;
        int[] a=new int[]&#123;1,3,5,-1,0&#125;;
        sort(a,0,a.length-1);
        System.out.println(Arrays.toString(a));
    &#125;
    public static void sort(int[] a, int low, int hight) &#123;
        int i, j, index;
        if (low &gt; hight) &#123;
            return;
        &#125;//æ¯ä¸€è¶Ÿç»“æŸçš„æ¡ä»¶
        i = low;
        j = hight;
        index = a[i]; // ç¬¬ä¸€ä¸ªè®°å½•åšåŸºå‡†å…ƒç´ 
        while (i &lt; j) &#123;
            //å…ˆä»å³è¾¹è¿›è¡Œæ‰«æï¼Œæ‰¾åˆ°å°äºåŸºå‡†å€¼çš„å…ƒç´ 
            while (i &lt; j &amp;&amp; a[j] &gt;= index) j--;
            //æ‰¾åˆ°ä¹‹åäº¤æ¢
            if (i &lt; j) a[i++] = a[j];
            //ç„¶åä»å·¦è¾¹æ‰«æï¼Œæ‰¾åˆ°å¤§äºåŸºå‡†å€¼çš„å…ƒç´ 
            while (i &lt; j &amp;&amp; a[i] &lt; index) i++;
            //æ‰¾åˆ°ä¹‹åäº¤æ¢
            if (i &lt; j) a[j--] = a[i];
        &#125;
        a[i] = index;
        sort(a, low, i - 1); // å¯¹ä½å­è¡¨è¿›è¡Œé€’å½’æ’åº
        sort(a, i + 1, hight); // å¯¹é«˜å­è¡¨è¿›è¡Œé€’å½’æ’åº
    &#125;
&#125;
</code></pre>
<p><img src="/.io//Users\50537\OneDrive\blog\source_posts\é¢è¯•ç®—æ³•.assets\image-20230413010108052.png" alt="img"></p>
<p>ç»è¿‡ä¸Šè¿°ä¸€è¶Ÿå¿«é€Ÿæ’åºï¼Œæˆ‘ä»¬åªç¡®å®šäº†ä¸€ä¸ªå…ƒç´ çš„æœ€ç»ˆä½ç½®ï¼Œæˆ‘ä»¬æœ€ç»ˆéœ€è¦ç»è¿‡nè¶Ÿå¿«é€Ÿæ’åºæ‰èƒ½å°†ä¸€ä¸ªå«æœ‰ n ä¸ªæ•°æ®å…ƒç´ çš„åºåˆ—æ’å¥½åºï¼Œä¸‹é¢æˆ‘ä»¬æ¥åˆ†æå…¶æ—¶é—´å¤æ‚åº¦</p>
<p><img src="/.io//Users\50537\OneDrive\blog\source_posts\é¢è¯•ç®—æ³•.assets\image-20230413010655673.png" alt="img"></p>
<p><img src="/.io//Users\50537\OneDrive\blog\source_posts\é¢è¯•ç®—æ³•.assets\image-20230413010725385.png" alt="img"></p>
<h2 id="å…¶ä»–æ’åº"><a href="#å…¶ä»–æ’åº" class="headerlink" title="å…¶ä»–æ’åº"></a>å…¶ä»–æ’åº</h2><p><img src="https://img-blog.csdnimg.cn/a22a2fd0a078461f9d3a03ae06adc9ba.png" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/viacheung/img/main/image/202306041747055.png" alt="img"></p>
<p><img src="https://img-blog.csdnimg.cn/e8fc01ed77b1487c80522e394a510807.png" alt="img"></p>
<p><img src="https://img-blog.csdnimg.cn/5d95acc392874064825ef3398f5429ba.png" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/viacheung/img/main/image/202306041747083.png" alt="img"></p>
<h2 id="13-3-äºŒåˆ†æ³•"><a href="#13-3-äºŒåˆ†æ³•" class="headerlink" title="13.3 äºŒåˆ†æ³•"></a>13.3 äºŒåˆ†æ³•</h2><pre><code class="java">class Solution &#123;
//å·¦é—­å³é—­
    public int search(int[] nums, int target) &#123;
        // é¿å…å½“ target å°äºnums[0] nums[nums.length - 1]æ—¶å¤šæ¬¡å¾ªç¯è¿ç®—
        if (target &lt; nums[0] || target &gt; nums[nums.length - 1]) &#123;
            return -1;
        &#125;
        int left = 0, right = nums.length - 1;
        while (left &lt;= right) &#123;
            int mid = left + ((right - left) &gt;&gt; 1);
            if (nums[mid] == target)
                return mid;
            else if (nums[mid] &lt; target)
                left = mid + 1;
            else if (nums[mid] &gt; target)
                right = mid - 1;
        &#125;
        return -1;
    &#125;
&#125;
</code></pre>
<h2 id="13-4-å•ä¾‹æ¨¡å¼"><a href="#13-4-å•ä¾‹æ¨¡å¼" class="headerlink" title="13.4 å•ä¾‹æ¨¡å¼"></a>13.4 å•ä¾‹æ¨¡å¼</h2><p><strong>å•ä¾‹æ¨¡å¼ï¼ˆSingletonï¼‰ï¼š</strong> ä¿è¯æ•´ä¸ªç³»ç»Ÿä¸­ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå¯¹è±¡å®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå¯ä»¥è®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚</p>
<p><code>**é¥¿æ±‰å¼**</code><strong>ï¼š</strong> åœ¨ç±»åŠ è½½çš„æ—¶å€™å°±åˆ›å»ºå¥½å•ä¾‹å¯¹è±¡ï¼ˆé¢„å…ˆåŠ è½½ï¼‰</p>
<ul>
<li><p><strong>ä¼˜ç‚¹ï¼š</strong> å®ç°ç®€å•ã€çº¿ç¨‹å®‰å…¨</p>
</li>
<li><p><strong>ç¼ºç‚¹ï¼š</strong> å¯èƒ½ä¼šé€ æˆç³»ç»Ÿèµ„æºæµªè´¹ï¼ˆåˆå§‹åŒ–äº†ä¸€äº›æ ¹æœ¬ç”¨ä¸åˆ°çš„å¯¹è±¡ï¼‰ï¼›å¢åŠ æœåŠ¡å¯åŠ¨çš„è€—æ—¶</p>
</li>
</ul>
<p><code>**æ‡’æ±‰å¼**</code><strong>ï¼š</strong> åœ¨éœ€è¦ä½¿ç”¨æ—¶æ‰åˆ›å»ºå•ä¾‹å¯¹è±¡ï¼ˆå»¶è¿Ÿåˆå§‹åŒ–ï¼‰</p>
<ul>
<li><p><strong>ä¼˜ç‚¹ï¼š</strong> èµ„æºåˆ©ç”¨ç‡é«˜ï¼ˆåªç”Ÿæˆéœ€è¦ä½¿ç”¨åˆ°çš„å®ä¾‹å¯¹è±¡ï¼‰</p>
</li>
<li><p><strong>ç¼ºç‚¹ï¼š</strong> ç¬¬ä¸€æ¬¡åŠ è½½æ—¶ä¼šæ¯”è¾ƒæ…¢ï¼›ç¨ä¸æ³¨æ„å®¹æ˜“å†™å‡º<strong>çº¿ç¨‹ä¸å®‰å…¨</strong>çš„ä»£ç </p>
</li>
</ul>
<p>é¥¿æ±‰å¼</p>
<pre><code class="java">é—®é¢˜1ï¼šä¸ºä»€ä¹ˆåŠ  finalï¼Œé˜²æ­¢å­ç±»ç»§æ‰¿åæ›´æ”¹

public final class Singleton implements Serializable &#123;
    é—®é¢˜3ï¼šä¸ºä»€ä¹ˆè®¾ç½®ä¸ºç§æœ‰? é˜²æ­¢å…¶å®ƒç±»ä¸­ä½¿ç”¨newç”Ÿæˆæ–°çš„å®ä¾‹ï¼Œæ˜¯å¦èƒ½é˜²æ­¢åå°„åˆ›å»ºæ–°çš„å®ä¾‹?ä¸èƒ½ï¼Œåå°„privateä¹Ÿæ²¡ç”¨
    private Singleton() &#123;&#125;
    é—®é¢˜4ï¼šè¿™æ ·åˆå§‹åŒ–æ˜¯å¦èƒ½ä¿è¯å•ä¾‹å¯¹è±¡åˆ›å»ºæ—¶çš„çº¿ç¨‹å®‰å…¨?æ²¡æœ‰ï¼Œè¿™æ˜¯ç±»å˜é‡ï¼Œæ˜¯jvmåœ¨ç±»åŠ è½½é˜¶æ®µå°±è¿›è¡Œäº†åˆå§‹åŒ–ï¼Œjvmä¿è¯äº†æ­¤æ“ä½œçš„çº¿ç¨‹å®‰å…¨æ€§
    private static final Singleton INSTANCE = new Singleton();
    é—®é¢˜5ï¼šä¸ºä»€ä¹ˆæä¾›é™æ€æ–¹æ³•è€Œä¸æ˜¯ç›´æ¥å°† INSTANCE è®¾ç½®ä¸º public, è¯´å‡ºä½ çŸ¥é“çš„ç†ç”±ã€‚
    //1.æä¾›æ›´å¥½çš„å°è£…æ€§ï¼›2.æä¾›èŒƒå‹çš„æ”¯æŒ
    public static Singleton getInstance() &#123;
        return INSTANCE;
    &#125;
    public Object readResolve() &#123;
        return INSTANCE;
    &#125;
&#125;
</code></pre>
<p>å¯¹ä¸Šé¢äº”ä¸ªé—®é¢˜çš„å›ç­”ï¼š<br>1.finalé˜²æ­¢å­ç±»ç»§æ‰¿ï¼Œå­ç±»ä¸é€‚å½“è¦†ç›–ä¸€äº›ä¸œè¥¿ï¼Œç ´åå…¶å•ä¾‹<br>2.ååºåˆ—åŒ–ä¹Ÿä¼šç”Ÿå‡ºæ–°çš„å¯¹è±¡ï¼Œæ‰€ä»¥å¢åŠ ä¸€ä¸ªæ–¹æ³•readResolveï¼Œè¿”å›è¯¥å•ä¾‹ï¼Œå°±å¯ä»¥äº†<br>3.è®¾ä¸ºpublicåˆ«çš„ç±»éƒ½å¯ä»¥åˆ›å»ºå®ƒçš„å¯¹è±¡ï¼Œæ˜¾ç„¶å°±ä¸è¡Œã€‚ä¸èƒ½é˜²æ­¢åå°„ï¼Œåå°„privateä¹Ÿæ²¡ç”¨<br>4.é™æ€æˆå‘˜å˜é‡çš„åˆå§‹åŒ–æ“ä½œï¼Œæ˜¯åœ¨ç±»åŠ è½½é˜¶æ®µå®Œæˆçš„ï¼Œç±»åŠ è½½é˜¶æ®µç”±jvmä¿è¯çº¿ç¨‹å®‰å…¨æ€§<br>5.å®ç°æ‡’æƒ°ï¼›  å¯ä»¥æœ‰æ›´å¤šçš„æ§åˆ¶ï¼›  å¯ä»¥å¢åŠ æ³›å‹çš„æ§åˆ¶</p>
<p>æ‡’æ±‰å¼</p>
<pre><code class="java">public final class Singleton &#123;
    private Singleton() &#123; &#125;
    private static Singleton INSTANCE = null;
    // åˆ†æè¿™é‡Œçš„çº¿ç¨‹å®‰å…¨, å¹¶è¯´æ˜æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼šsynchronizedåŠ è½½é™æ€æ–¹æ³•ä¸Šï¼Œå¯ä»¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚ç¼ºç‚¹å°±æ˜¯é”çš„èŒƒå›´è¿‡å¤§ï¼Œæ¯æ¬¡è®¿é—®éƒ½ä¼šåŠ é”ï¼Œæ€§èƒ½æ¯”è¾ƒä½ã€‚
    public static synchronized Singleton getInstance() &#123;
        if( INSTANCE == null )&#123;
           INSTANCE = new Singleton();
        &#125;
        return INSTANCE;
    &#125;
&#125;
</code></pre>
<p>DCLæ‡’æ±‰å¼ï¼Œä¸è¿‡æ— æ³•é˜²æ­¢åå°„</p>
<p>è¿™ç§æ–¹å¼æ˜¯å¯¹æ‡’æ±‰å¼çš„æ”¹è¿›ï¼Œåªæœ‰å½“ INSTANCE &#x3D;&#x3D; null æ—¶ï¼Œæ‰ä¼šè¿›å…¥åŒæ­¥ä»£ç å—ï¼Œä¸”åœ¨åŒæ­¥ä»£ç å—ä¹Ÿåšäº†ä¸€æ¬¡ç©ºæ£€æŸ¥ï¼Œå°±å¯ä»¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-volatile"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-volatile" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ volatile?"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ <code>volatile</code>?</h3><p>ä¸ºäº†è§£å†³å¤šçº¿ç¨‹ç¯å¢ƒä¸‹<code>é‡æ’åº</code>å¸¦æ¥çš„é—®é¢˜ã€‚</p>
<p>åˆ›å»ºå¯¹è±¡ä¼šç»è¿‡ä¸‰ä¸ªæ­¥éª¤ï¼ˆä¸æ˜¯åŸå­æ€§ï¼‰ï¼š</p>
<ol>
<li><p>åˆ›å»ºç©ºçš„å¯¹è±¡ï¼ˆåˆ†é…å†…å­˜ï¼‰</p>
</li>
<li><p>è°ƒç”¨æ„é€ æ–¹æ³•ï¼ˆå¯¹è±¡åˆå§‹åŒ–ï¼‰</p>
</li>
<li><p>å°†æ„é€ å¥½çš„å®ä¾‹åœ°å€èµ‹å€¼ç»™å¼•ç”¨</p>
</li>
</ol>
<p><strong>æ¨¡æ‹Ÿä¸‹å‡ºé—®é¢˜çš„æµç¨‹ï¼ˆå‡è®¾ä¸åŠ volatileå…³é”®å­—ï¼‰ï¼š</strong></p>
<ul>
<li><p>å½“ çº¿ç¨‹1 åˆ¤æ–­ INSTANCE ä¸ºç©ºï¼Œè¿›å…¥åŒæ­¥é€»è¾‘ï¼Œç»§ç»­æ£€æŸ¥ä¸ºç©ºï¼Œåˆ™åˆ›å»ºå¯¹è±¡</p>
</li>
<li><p>å¦‚æœæ­¤æ—¶å‘ç”ŸæŒ‡ä»¤é‡æ’åºï¼Œæ‰§è¡Œ 1-&gt;3-&gt;2 æ­¥éª¤ï¼Œå…ˆåˆ›å»ºäº†ç©ºå¯¹è±¡ï¼Œç„¶åèµ‹å€¼ç»™å¼•ç”¨ï¼Œæ­¤æ—¶è¿˜æ²¡æ¥å¾—åŠè°ƒç”¨æ„é€ æ–¹æ³•</p>
</li>
<li><p>å…¶ä»–çº¿ç¨‹æ­¤æ—¶åˆ¤æ–­ INSTANCE ä¸ä¸º nullï¼Œåˆ™ç›´æ¥è¿”å› INSTANCEï¼Œä½†æ˜¯æ­¤æ—¶å¯¹è±¡å¹¶æ²¡æœ‰åˆå§‹åŒ–å®Œæ¯•ï¼Œå°±è¢«å…¶ä»–çº¿ç¨‹ä½¿ç”¨ï¼Œå¯èƒ½å¯¼è‡´<strong>ç©ºæŒ‡é’ˆ</strong>å¼‚å¸¸</p>
</li>
</ul>
<pre><code class="plain"> ä¾ç„¶æ¯æ¬¡éƒ½ä¼šæœ‰é”ã€‚è€Œç°åœ¨ï¼Œæˆ‘ä»¬å°†é”çš„ä½ç½®å˜äº†ï¼Œå¹¶ä¸”å¤šåŠ äº†ä¸€ä¸ªæ£€æŸ¥ã€‚ ä¹Ÿå°±æ˜¯ï¼Œå…ˆåˆ¤æ–­å®ä¾‹æ˜¯å¦å·²ç»å­˜åœ¨ï¼Œè‹¥å·²ç»å­˜åœ¨äº†ï¼Œ
* åˆ™ä¸ä¼šæ‰§è¡Œåˆ¤æ–­æ–¹æ³•å†…çš„æœ‰é”æ–¹æ³•äº†ã€‚ è€Œå¦‚æœï¼Œè¿˜æ²¡æœ‰å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œå¤šä¸ªçº¿ç¨‹è¿›å»äº†ï¼Œä¹Ÿæ²¡æœ‰äº‹ï¼Œå› ä¸ºé‡Œé¢çš„æ–¹æ³•æœ‰é”ï¼Œ
* åªä¼šè®©ä¸€ä¸ªçº¿ç¨‹è¿›å…¥æœ€å†…å±‚æ–¹æ³•å¹¶å®ä¾‹åŒ–å®ä¾‹ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œæœ€å¤šæœ€å¤šï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€æ¬¡å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œä¼šæœ‰çº¿ç¨‹é˜»å¡çš„æƒ…å†µï¼Œåç»­ä¾¿ä¸ä¼šå†æœ‰çº¿ç¨‹é˜»å¡çš„é—®é¢˜ã€‚
</code></pre>
<pre><code class="java">public class Singleton &#123;

    private volatile static Singleton INSTANCE;

    private Singleton() &#123;&#125;

    public static Singleton getInstance() &#123;
        //æ­¤å¤„ä¾ç„¶ä¼šæœ‰å¤šçº¿ç¨‹è¿›å»çš„é—®é¢˜
        if (INSTANCE == null) &#123;
            synchronized (Singleton.class) &#123;
                //ä¸ºä»€ä¹ˆè¿˜è¦åœ¨è¿™é‡ŒåŠ ä¸ºç©ºåˆ¤æ–­, ä¹‹å‰ä¸æ˜¯åˆ¤æ–­è¿‡äº†å—ï¼Ÿè¿™æ˜¯ä¸ºäº†ç¬¬ä¸€æ¬¡åˆ¤æ–­æ—¶çš„å¹¶å‘é—®é¢˜ã€‚
                if (INSTANCE == null) &#123;
                    INSTANCE = new Singleton();
                &#125;
            &#125;
        &#125;
        return INSTANCE;
    &#125;

&#125;
</code></pre>
<p>é˜²æ­¢åå°„çš„å•ä¾‹æ¨¡å¼ï¼ˆä¸æ˜¯æ‡’æ±‰å¼ï¼‰</p>
<p>æšä¸¾</p>
<pre><code class="java">public enum SingletonEnum &#123;
    INSTANCE;
&#125;
</code></pre>
<h2 id="13-5-LRU"><a href="#13-5-LRU" class="headerlink" title="13.5 LRU"></a>13.5 LRU</h2><p><img src="https://raw.githubusercontent.com/viacheung/img/main/image/202306041747284.png" alt="img"><br>å®ç°æœ¬é¢˜çš„ä¸¤ç§æ“ä½œï¼Œéœ€è¦ç”¨åˆ°ä¸€ä¸ªå“ˆå¸Œè¡¨å’Œä¸€ä¸ªåŒå‘é“¾è¡¨ã€‚åœ¨é¢è¯•ä¸­ï¼Œé¢è¯•å®˜ä¸€èˆ¬ä¼šæœŸæœ›è¯»è€…èƒ½å¤Ÿè‡ªå·±å®ç°ä¸€ä¸ªç®€å•çš„åŒå‘é“¾è¡¨ï¼Œè€Œä¸æ˜¯ä½¿ç”¨è¯­è¨€è‡ªå¸¦çš„ã€å°è£…å¥½çš„æ•°æ®ç»“æ„ã€‚åœ¨ Java è¯­è¨€ä¸­ï¼Œæœ‰æ•°æ®ç»“æ„ LinkedHashMapã€‚è¿™æ ·çš„åšæ³•ä¸ç¬¦åˆé¢è¯•å®˜çš„è¦æ±‚ï¼Œå› æ­¤ä¸‹é¢åªç»™å‡ºä½¿ç”¨å°è£…å¥½çš„æ•°æ®ç»“æ„å®ç°çš„ä»£ç ï¼Œè€Œä¸å¤šåšä»»ä½•é˜è¿°ã€‚</p>
<pre><code class="java">class LRUCache extends LinkedHashMap&lt;Integer, Integer&gt;&#123;
    private int capacity;
    
    public LRUCache(int capacity) &#123;
        super(capacity, 0.75F, true);
        this.capacity = capacity;
    &#125;

    public int get(int key) &#123;
        return super.getOrDefault(key, -1);
    &#125;

    public void put(int key, int value) &#123;
        super.put(key, value);
    &#125;

    @Override
    protected boolean removeEldestEntry(Map.Entry&lt;Integer, Integer&gt; eldest) &#123;
        return size() &gt; capacity; 
    &#125;
&#125;
</code></pre>
<p>æ–¹æ³•ï¼šå“ˆå¸Œè¡¨ + åŒå‘é“¾è¡¨</p>
<p>åŒå‘é“¾è¡¨åªæ˜¯ä¸ºäº†æ–¹ä¾¿è·å–å‰åèŠ‚ç‚¹ï¼ŒèŠ‚çœæ—¶é—´<br><img src="https://img-blog.csdnimg.cn/70aa9a0566e744908a4662746efdc258.png" alt="img"></p>
<pre><code class="java">class LRUCache &#123;
     class DlinkedNode&#123;
         int key;
         int value;
         DlinkedNode prev;
         DlinkedNode next;
         public DlinkedNode() &#123;
         &#125;
         public DlinkedNode(int key, int value) &#123;
             this.key = key;
             this.value = value;
         &#125;
     &#125;
     private Map&lt;Integer,DlinkedNode&gt; cache=new HashMap&lt;&gt;();
     private int size;
     private int capacity;
     private DlinkedNode head;
     private DlinkedNode tail;

    public LRUCache(int capacity) &#123;
        this.size=size;
        this.capacity=capacity;
         // ä½¿ç”¨ä¼ªå¤´éƒ¨å’Œä¼ªå°¾éƒ¨èŠ‚ç‚¹
        head=new DlinkedNode();
        tail=new DlinkedNode();
        head.next=tail;
        tail.prev=head;
    &#125;
    
    public int get(int key) &#123;
//        é€šè¿‡å“ˆå¸Œè¡¨å®šä½
        DlinkedNode node=cache.get(key);
        if(node==null)&#123;
            return -1;
        &#125;else&#123;
            // å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ç§»åˆ°å¤´éƒ¨
            moveToHead(node);
            return node.value;
        &#125;
    &#125;
    public void put(int key, int value) &#123;
        DlinkedNode node=cache.get(key);
        if(node==null)&#123;
             // å¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹
            DlinkedNode newNode = new DlinkedNode(key,value);//å»ºä¸€ä¸ªæ–°çš„node
            // æ·»åŠ è¿›å“ˆå¸Œè¡¨
            cache.put(key,newNode);
            // æ·»åŠ è‡³åŒå‘é“¾è¡¨çš„å¤´éƒ¨
            addToHead(newNode);
            size++;
            if(size&gt;capacity)&#123;
                // å¦‚æœè¶…å‡ºå®¹é‡ï¼Œåˆ é™¤åŒå‘é“¾è¡¨çš„å°¾éƒ¨èŠ‚ç‚¹
                DlinkedNode tail=removeTail();
                // åˆ é™¤å“ˆå¸Œè¡¨ä¸­å¯¹åº”çš„é¡¹
                cache.remove(tail.key);
                --size;
            &#125;
        &#125;else&#123;
            // å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ä¿®æ”¹ valueï¼Œå¹¶ç§»åˆ°å¤´éƒ¨
            node.value=value;
            moveToHead(node);
        &#125;

    &#125;
    // åˆ é™¤å¹¶ç§»åŠ¨åˆ°ä¼ªå¤´èŠ‚ç‚¹çš„åé¢
    public void moveToHead(DlinkedNode node)&#123;
        //1ã€åˆ é™¤
          removeNode(node);
          //2ã€ç§»åŠ¨
          addToHead(node);
      &#125;
    //æ’å…¥åˆ°ä¼ªå¤´èŠ‚ç‚¹çš„åé¢
    public void addToHead(DlinkedNode node)&#123;
        node.prev=head;
        node.next=head.next;
        node.next.prev=node;
        head.next=node;
    &#125;
    // åˆ é™¤ç»“ç‚¹
    public void removeNode(DlinkedNode node)&#123;
        node.prev.next=node.next;
        node.next.prev=node.prev;
    &#125;
//å»é™¤å°¾éƒ¨çš„ç»“ç‚¹
    public DlinkedNode removeTail()&#123;
        DlinkedNode res=tail.prev;
        removeNode(res);
        return res;
    &#125;
&#125;
</code></pre>
<h2 id="13-6-æ‰‹å†™hashMap"><a href="#13-6-æ‰‹å†™hashMap" class="headerlink" title="13.6 æ‰‹å†™hashMap"></a>13.6 æ‰‹å†™hashMap</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/TheCalm/article/details/119811706">å¥½æ–‡ç« </a></p>
<h2 id="13-7-é‚»æ¥çŸ©é˜µ"><a href="#13-7-é‚»æ¥çŸ©é˜µ" class="headerlink" title="13.7 é‚»æ¥çŸ©é˜µ"></a>13.7 é‚»æ¥çŸ©é˜µ</h2><pre><code class="java">public class MGraph01 &#123;
    public int numNodes;      //å›¾çš„é¡¶ç‚¹æ•°ç›®
    public int numEdges;      //å›¾çš„è¾¹æ•°
    public Object[] vexs;     //ä¸€ç»´é¡¶ç‚¹æ•°ç»„
    public int[][] arcs;      //äºŒç»´è¾¹æ•°ç»„
    public static final int INF = Integer.MAX_VALUE; //æ— ç©·å¤§
 
    /**
     * åˆ›å»ºæ— å‘å›¾çš„é‚»æ¥çŸ©é˜µ
     */
    public void createUDG() &#123;
        Scanner sc = null;
        try &#123;
            sc = new Scanner(System.in);
            System.out.println(&quot;è¯·è¾“å…¥å›¾çš„é¡¶ç‚¹æ•°ã€å›¾çš„è¾¹æ•°ï¼š&quot;);
            numNodes = Integer.parseInt(sc.nextLine());
            numEdges = Integer.parseInt(sc.nextLine());
            vexs = new Object[numNodes];
            //å½•å…¥é¡¶ç‚¹ä¿¡æ¯
            System.out.println(&quot;è¯·è¾“å…¥å›¾ä¸­çš„é¡¶ç‚¹ï¼š&quot;);
            vexs = sc.nextLine().split(&quot; &quot;);
            //å½•å…¥è¾¹çš„ä¿¡æ¯
            arcs = new int[numNodes][numNodes];
            for (int i = 0; i &lt; numEdges; i++) &#123;
                System.out.println(&quot;è¯·è¾“å…¥ç¬¬&quot; + (i + 1) + &quot;æ¡è¾¹ä¸Šçš„ä¸€ä¸ªé¡¶ç‚¹ï¼š&quot;);
                //locateæ–¹æ³•ç”¨æ¥å®šä½æŸä¸ªé¡¶ç‚¹åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•
                int index1 = locate(sc.nextLine());
                System.out.println(&quot;è¯·è¾“å…¥ç¬¬&quot; + (i + 1) + &quot;æ¡è¾¹ä¸Šçš„å¦ä¸€ä¸ªé¡¶ç‚¹ï¼š&quot;);
                int index2 = locate(sc.nextLine());
                //æ— å‘å›¾æ˜¯ä¸ªå¯¹ç§°çŸ©é˜µ
                arcs[index1][index2] = arcs[index2][index1] = 1;
            &#125;
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
        &#125; finally &#123;
            sc.close();
        &#125;
    &#125;
 
    /**
     * åˆ›å»ºæœ‰å‘å›¾çš„é‚»æ¥çŸ©é˜µ
     */
    public void createDG() &#123;
        Scanner sc = null;
        try &#123;
            sc = new Scanner(System.in);
            System.out.println(&quot;è¯·è¾“å…¥å›¾çš„é¡¶ç‚¹æ•°ã€å›¾çš„è¾¹æ•°ï¼š&quot;);
            numNodes = Integer.parseInt(sc.nextLine());
            numEdges = Integer.parseInt(sc.nextLine());
            vexs = new Object[numNodes];
            //å½•å…¥é¡¶ç‚¹ä¿¡æ¯
            System.out.println(&quot;è¯·è¾“å…¥å›¾ä¸­çš„é¡¶ç‚¹ï¼š&quot;);
            String str = sc.nextLine();
            vexs = str.split(&quot; &quot;);
            //å½•å…¥è¾¹çš„ä¿¡æ¯
            arcs = new int[numNodes][numNodes];
            for (int i = 0; i &lt; numEdges; i++) &#123;
                System.out.println(&quot;è¯·è¾“å…¥ç¬¬&quot; + (i + 1) + &quot;æ¡å¼§ä¸Šçš„å¼§å°¾ï¼š&quot;);
                int index1 = locate(sc.nextLine());
                System.out.println(&quot;è¯·è¾“å…¥ç¬¬&quot; + (i + 1) + &quot;æ¡å¼§ä¸Šçš„å¼§å¤´ï¼š&quot;);
                int index2 = locate(sc.nextLine());
                arcs[index1][index2] = 1;
            &#125;
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
        &#125; finally &#123;
            sc.close();
        &#125;
    &#125;
 
    /**
     * åˆ›å»ºæ— å‘ç½‘çš„é‚»æ¥çŸ©é˜µ
     */
    public void createUDN() &#123;
        Scanner sc = null;
        try &#123;
            sc = new Scanner(System.in);
            System.out.println(&quot;è¯·è¾“å…¥å›¾çš„é¡¶ç‚¹æ•°ã€å›¾çš„è¾¹æ•°ï¼š&quot;);
            numNodes = Integer.parseInt(sc.nextLine());
            numEdges = Integer.parseInt(sc.nextLine());
            vexs = new Object[numNodes];
            //å½•å…¥é¡¶ç‚¹ä¿¡æ¯
            System.out.println(&quot;è¯·è¾“å…¥å›¾ä¸­çš„é¡¶ç‚¹ï¼š&quot;);
            String str = sc.nextLine();
            vexs = str.split(&quot; &quot;);
            //çŸ©é˜µåˆå§‹åŒ–ï¼Œæœ‰å‘ç½‘ä¸­
            arcs = new int[numNodes][numNodes];
            for (int i = 0; i &lt; numNodes; i++) &#123;
                for (int j = 0; j &lt; numNodes; j++) &#123;
                    arcs[i][j] = INF;
                &#125;
            &#125;
            //å½•å…¥è¾¹çš„ä¿¡æ¯
            for (int i = 0; i &lt; numEdges; i++) &#123;
                System.out.println(&quot;è¯·è¾“å…¥ç¬¬&quot; + (i + 1) + &quot;æ¡è¾¹ä¸Šçš„ä¸€ä¸ªé¡¶ç‚¹ï¼š&quot;);
                int index1 = locate(sc.nextLine());
                System.out.println(&quot;è¯·è¾“å…¥ç¬¬&quot; + (i + 1) + &quot;æ¡è¾¹ä¸Šçš„å¦ä¸€ä¸ªé¡¶ç‚¹ï¼š&quot;);
                int index2 = locate(sc.nextLine());
                System.out.println(&quot;è¯·è¾“å…¥ç¬¬&quot; + (i + 1) + &quot;æ¡è¾¹ä¸Šçš„æƒå€¼ï¼š&quot;);
                arcs[index1][index2] = arcs[index2][index1] = Integer.parseInt(sc.nextLine());
            &#125;
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
        &#125; finally &#123;
            sc.close();
        &#125;
    &#125;
 
    /**
     * åˆ›å»ºæœ‰å‘ç½‘çš„é‚»æ¥çŸ©é˜µ
     */
    public void createDN() &#123;
        Scanner sc = null;
        try &#123;
            sc = new Scanner(System.in);
            System.out.println(&quot;è¯·è¾“å…¥å›¾çš„é¡¶ç‚¹æ•°ã€å›¾çš„è¾¹æ•°ï¼š&quot;);
            numNodes = Integer.parseInt(sc.nextLine());
            numEdges = Integer.parseInt(sc.nextLine());
            vexs = new Object[numNodes];
            //å½•å…¥é¡¶ç‚¹ä¿¡æ¯
            System.out.println(&quot;è¯·è¾“å…¥å›¾ä¸­çš„é¡¶ç‚¹ï¼š&quot;);
            String str = sc.nextLine();
            vexs = str.split(&quot; &quot;);
            //å½•å…¥è¾¹çš„ä¿¡æ¯
            arcs = new int[numNodes][numNodes];
            for (int i = 0; i &lt; numEdges; i++) &#123;
                System.out.println(&quot;è¯·è¾“å…¥ç¬¬&quot; + (i + 1) + &quot;æ¡å¼§ä¸Šçš„å¼§å°¾ï¼š&quot;);
                int index1 = locate(sc.nextLine());
                System.out.println(&quot;è¯·è¾“å…¥ç¬¬&quot; + (i + 1) + &quot;æ¡å¼§ä¸Šçš„å¼§å¤´ï¼š&quot;);
                int index2 = locate(sc.nextLine());
                System.out.println(&quot;è¯·è¾“å…¥ç¬¬&quot; + (i + 1) + &quot;æ¡å¼§ä¸Šçš„æƒå€¼ï¼š&quot;);
                arcs[index1][index2] = Integer.parseInt(sc.nextLine());
            &#125;
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
        &#125; finally &#123;
            sc.close();
        &#125;
    &#125;
 
    /**
     * é€šè¿‡é¡¶ç‚¹ä¿¡æ¯æ¥å®šä½å…¶åœ¨é¡¶ç‚¹æ•°ç»„ä¸­çš„ç´¢å¼•
     *
     * @param s
     * @return
     */
    public int locate(Object s) &#123;
        for (int i = 0; i &lt; vexs.length; i++) &#123;
            if (s.equals(vexs[i])) &#123;
                return i;
            &#125;
        &#125;
        return -1;
    &#125;
&#125;
</code></pre>
<h2 id="å‰ç¼€æ ‘"><a href="#å‰ç¼€æ ‘" class="headerlink" title="å‰ç¼€æ ‘"></a>å‰ç¼€æ ‘</h2><pre><code class="java">package com.nowcoder.community.util;

import org.apache.commons.lang3.CharUtils;
import org.apache.commons.lang3.StringUtils;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Component;

import javax.annotation.PostConstruct;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.util.HashMap;
import java.util.Map;

@Component
public class SensitiveFilter &#123;

    private static final Logger logger = LoggerFactory.getLogger(SensitiveFilter.class);

    // æ›¿æ¢ç¬¦
    private static final String REPLACEMENT = &quot;***&quot;;

    // æ ¹èŠ‚ç‚¹
    private TrieNode rootNode = new TrieNode();


    //3.1ç¬¬äºŒæ­¥ï¼šæ ¹æ®æ•æ„Ÿè¯ï¼Œåˆå§‹åŒ–å‰ç¼€æ ‘
    //@PostConstructä»£è¡¨æ˜¯åˆå§‹åŒ–æ–¹æ³•ï¼ŒSensitiveFilterå®¹å™¨ä¸€æ„é€ ï¼Œå®ƒå°±å¼€å§‹
    @PostConstruct
    public void init() &#123;
        try (
                InputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;sensitive-words.txt&quot;);
                //æŠŠiså…ˆè½¬ä¸ºå­—ç¬¦æµï¼Œå†è½¬ä¸ºç¼“å†²æµ
                BufferedReader reader = new BufferedReader(new InputStreamReader(is));
        ) &#123;
            String keyword;
            while ((keyword = reader.readLine()) != null) &#123;
                // æ·»åŠ åˆ°å‰ç¼€æ ‘
                this.addKeyword(keyword);
            &#125;
        &#125; catch (IOException e) &#123;
            logger.error(&quot;åŠ è½½æ•æ„Ÿè¯æ–‡ä»¶å¤±è´¥: &quot; + e.getMessage());
        &#125;
    &#125;
    //ä¹Ÿç®—3.1ç¬¬äºŒæ­¥ï¼šæ ¹æ®æ•æ„Ÿè¯ï¼Œåˆå§‹åŒ–å‰ç¼€æ ‘
    // å°†ä¸€ä¸ªæ•æ„Ÿè¯æ·»åŠ åˆ°å‰ç¼€æ ‘ä¸­
    private void addKeyword(String keyword) &#123;
        TrieNode tempNode = rootNode;
        for (int i = 0; i &lt; keyword.length(); i++) &#123;
            char c = keyword.charAt(i);
            //æ‰¾ä¸€ä¸‹å½“å‰èŠ‚ç‚¹æœ‰æ²¡æœ‰è¿™ä¸ªå­èŠ‚ç‚¹ï¼Œæœ‰çš„è¯å°±ä¸å†æŒ‚äº†
            TrieNode subNode = tempNode.getSubNode(c);

            if (subNode == null) &#123;
                // åˆå§‹åŒ–å­èŠ‚ç‚¹
                subNode = new TrieNode();
                tempNode.addSubNode(c, subNode);
            &#125;

            // æŒ‡å‘å­èŠ‚ç‚¹,è¿›å…¥ä¸‹ä¸€è½®å¾ªç¯
            tempNode = subNode;

            // è®¾ç½®ç»“æŸæ ‡è¯†
            if (i == keyword.length() - 1) &#123;
                tempNode.setKeywordEnd(true);
            &#125;
        &#125;
    &#125;
//3.1ç¬¬ä¸‰æ­¥ï¼šè¿‡æ»¤æ•æ„Ÿè¯
    /**
     * è¿‡æ»¤æ•æ„Ÿè¯
     *
     * @param text å¾…è¿‡æ»¤çš„æ–‡æœ¬
     * @return è¿‡æ»¤åçš„æ–‡æœ¬
     */
    public String filter(String text) &#123;
        if (StringUtils.isBlank(text)) &#123;
            return null;
        &#125;

        // æŒ‡é’ˆ1
        TrieNode tempNode = rootNode;
        // æŒ‡é’ˆ2
        int begin = 0;
        // æŒ‡é’ˆ3
        int position = 0;
        // ç»“æœ
        StringBuilder sb = new StringBuilder();

        //ç”¨æŒ‡é’ˆ3æ•ˆç‡ç¨å¾®æ›´é«˜ä¸€ç‚¹
        while (begin &lt; text.length()) &#123;
            if (position &lt; text.length()) &#123;
                char c = text.charAt(position);
                //ä¾‹å¦‚ â­æ”¿â­åºœâ­  å°±æ£€æµ‹ä¸åˆ°ï¼Œéœ€è¦è·³è¿‡ç¬¦å·
                // è·³è¿‡ç¬¦å·
                if (isSymbol(c)) &#123; //å€˜è‹¥å­—ç¬¦cæ˜¯ç¬¦å·
                    // è‹¥æŒ‡é’ˆ1å¤„äºæ ¹èŠ‚ç‚¹,å°†æ­¤ç¬¦å·è®¡å…¥ç»“æœ,è®©æŒ‡é’ˆ2å‘ä¸‹èµ°ä¸€æ­¥
                    if (tempNode == rootNode) &#123;
                        sb.append(c);
                        begin++;
                    &#125;
                    // æ— è®ºç¬¦å·åœ¨å¼€å¤´æˆ–ä¸­é—´,æŒ‡é’ˆ3éƒ½å‘ä¸‹èµ°ä¸€æ­¥
                    position++;
                    continue;
                &#125;

                // æ£€æŸ¥ä¸‹çº§èŠ‚ç‚¹
                tempNode = tempNode.getSubNode(c);
                if (tempNode == null) &#123;
                    // ä»¥beginå¼€å¤´çš„å­—ç¬¦ä¸²ä¸æ˜¯æ•æ„Ÿè¯
                    sb.append(text.charAt(begin));
                    // è¿›å…¥ä¸‹ä¸€ä¸ªä½ç½®
                    position = ++begin;
                    // é‡æ–°æŒ‡å‘æ ¹èŠ‚ç‚¹
                    tempNode = rootNode;
                &#125; else if (tempNode.isKeywordEnd()) &#123;
                    // å‘ç°æ•æ„Ÿè¯,å°†begin~positionå­—ç¬¦ä¸²æ›¿æ¢æ‰
                    sb.append(REPLACEMENT);
                    // è¿›å…¥ä¸‹ä¸€ä¸ªä½ç½®
                    begin = ++position;
                    // é‡æ–°æŒ‡å‘æ ¹èŠ‚ç‚¹
                    tempNode = rootNode;
                &#125; else &#123;
                    // æ£€æŸ¥ä¸‹ä¸€ä¸ªå­—ç¬¦
                    position++;
                &#125;
            &#125;
            // positionéå†è¶Šç•Œä»æœªåŒ¹é…åˆ°æ•æ„Ÿè¯
            else &#123;
                sb.append(text.charAt(begin));
                position = ++begin;
                tempNode = rootNode;
            &#125;
        &#125;
        return sb.toString();
    &#125;

    // åˆ¤æ–­æ˜¯å¦ä¸ºç¬¦å·
    private boolean isSymbol(Character c) &#123;
        // 0x2E80~0x9FFF æ˜¯ä¸œäºšæ–‡å­—èŒƒå›´
        return !CharUtils.isAsciiAlphanumeric(c) &amp;&amp; (c &lt; 0x2E80 || c &gt; 0x9FFF);
    &#125;


    //è¿™ä¸ªç»“æ„åªåœ¨è¿™ä¸ªå·¥å…·é‡Œç”¨ï¼Œæ‰€ä»¥å®šä¹‰ä¸€ä¸ªå†…éƒ¨ç±»
    // 3.1å°èŠ‚çš„ç¬¬ä¸€æ­¥ï¼šå®šä¹‰å‰ç¼€æ ‘
    private class TrieNode &#123;

        // å…³é”®è¯ç»“æŸæ ‡è¯†
        private boolean isKeywordEnd = false;

        // ä¸€ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹å¯èƒ½æ˜¯å¤šä¸ªï¼Œå› æ­¤ç”¨mapæ¥è¿›è¡Œå°è£…
        // å­èŠ‚ç‚¹(keyæ˜¯ä¸‹çº§å­—ç¬¦,valueæ˜¯ä¸‹çº§èŠ‚ç‚¹)
        private Map&lt;Character, TrieNode&gt; subNodes = new HashMap&lt;&gt;();

        public boolean isKeywordEnd() &#123;
            return isKeywordEnd;
        &#125;

        public void setKeywordEnd(boolean keywordEnd) &#123;
            isKeywordEnd = keywordEnd;
        &#125;

        // æ·»åŠ å­èŠ‚ç‚¹
        public void addSubNode(Character c, TrieNode node) &#123;
            subNodes.put(c, node);
        &#125;

        // è·å–å­èŠ‚ç‚¹
        public TrieNode getSubNode(Character c) &#123;
            return subNodes.get(c);
        &#125;

    &#125;

&#125;
</code></pre>

    </div>

    
    
    
        <div class="reward-container">
  <div>â€œå¦‚æœè§‰å¾—æœ‰ç”¨çš„è¯ï¼Œæ”¯æŒä¸€ä¸‹å§!â€œ</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    æ‰“èµ
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechat.jpg" alt="ViaCheung å¾®ä¿¡æ”¯ä»˜">
        <p>å¾®ä¿¡æ”¯ä»˜</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>ViaCheung
  </li>
  <li class="post-copyright-link">
    <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
    <a href="http://viacheung.github.io/2023/06/04/%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95/" title="é¢è¯•ç®—æ³•">http://viacheung.github.io/2023/06/04/é¢è¯•ç®—æ³•/</a>
  </li>
  <li class="post-copyright-license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/06/04/%E9%93%BE%E8%A1%A8/" rel="prev" title="é“¾è¡¨">
      <i class="fa fa-chevron-left"></i> é“¾è¡¨
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/06/04/%E6%A8%A1%E6%8B%9F/" rel="next" title="æ¨¡æ‹Ÿ">
      æ¨¡æ‹Ÿ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%B8%89%E3%80%81%E7%AE%97%E6%B3%95%EF%BC%9A"><span class="nav-number">1.</span> <span class="nav-text">åä¸‰ã€ç®—æ³•ï¼š</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#13-1-%E5%A0%86%E6%8E%92%E5%BA%8F"><span class="nav-number">1.1.</span> <span class="nav-text">13.1 å †æ’åº</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-2-%E5%BF%AB%E6%8E%92"><span class="nav-number">1.2.</span> <span class="nav-text">13.2 å¿«æ’</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E6%8E%92%E5%BA%8F"><span class="nav-number">1.3.</span> <span class="nav-text">å…¶ä»–æ’åº</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-3-%E4%BA%8C%E5%88%86%E6%B3%95"><span class="nav-number">1.4.</span> <span class="nav-text">13.3 äºŒåˆ†æ³•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-4-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.5.</span> <span class="nav-text">13.4 å•ä¾‹æ¨¡å¼</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8-volatile"><span class="nav-number">1.5.1.</span> <span class="nav-text">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ volatile?</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-5-LRU"><span class="nav-number">1.6.</span> <span class="nav-text">13.5 LRU</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-6-%E6%89%8B%E5%86%99hashMap"><span class="nav-number">1.7.</span> <span class="nav-text">13.6 æ‰‹å†™hashMap</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-7-%E9%82%BB%E6%8E%A5%E7%9F%A9%E9%98%B5"><span class="nav-number">1.8.</span> <span class="nav-text">13.7 é‚»æ¥çŸ©é˜µ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E7%BC%80%E6%A0%91"><span class="nav-number">1.9.</span> <span class="nav-text">å‰ç¼€æ ‘</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="ViaCheung"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">ViaCheung</p>
  <div class="site-description" itemprop="description">el psy congroo</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">40</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">æ ‡ç­¾</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/viacheung" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;viacheung" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:viacheung5@gmail.com" title="E-Mail â†’ mailto:viacheung5@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ViaCheung</span>
</div>

<!--
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> å¼ºåŠ›é©±åŠ¨
  </div> -->

<!-- ç½‘ç«™è¿è¡Œæ—¶é—´çš„è®¾ç½® -->
<span id="timeDate">è½½å…¥å¤©æ•°...</span>
<span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("03/01/2023 10:00:00"); //æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "æœ¬ç«™å·²å®‰å…¨è¿è¡Œ "+dnum+" å¤© ";
        document.getElementById("times").innerHTML = hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’.";
    }
setInterval("createtime()",250);
</script>
        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
